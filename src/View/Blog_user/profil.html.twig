{% extends 'layout.html.twig' %} 

{% block title %}Profil de l'utilisateur{% endblock %} 

{% block stylesheet %}<link rel="stylesheet" href="/assets/css/profil.css">{% endblock %}

{% block content %}
<h1>Profil de l'utilisateur</h1>
<h2>Informations personnelles</h2>
<p><strong>Nom :</strong> {{ userId.name }}</p>
<p><strong>Image :</strong> {{ userId.image | raw }}</p>
<p><strong>Titre :</strong> {{ userId.title }}</p>
<p><strong>Description :</strong> {{ userId.description | raw }}</p>
<a href="/forgot_password">Réinitialiser le mot de passe</a>

<h2>Mes articles</h2>
<ul>
    {% for article in articles %}
    <li>
        <h3>{{ article.title }}</h3>
        <p>{{ article.content | raw }}</p>
                {# Boucle sur les catégories pour créer les options de la liste déroulante #}
                <p><strong>Categories :</strong>
                    {% for category in article.categories %}
                        {{ category.name }}
                        {% if not loop.last %}, {% endif %}
                    {% endfor %}
                </p>{# je fini a faire ma merde côme #}
                
        <a href="/article/edit?id={{ article.id }}">Éditer</a>
        <a href="/article/delete?id={{ article.id }}">Supprimer</a>
        <a href="/show?id={{ article.id }}"
            >Commentaires ({{ article.comment_count }})</a
        >
    </li>
    {% endfor %}
</ul>

<a href="/article/add">Ajouter un article</a>
{% endblock %}
